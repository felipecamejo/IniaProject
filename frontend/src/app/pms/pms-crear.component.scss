form {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-width: 400px;
}
label {
  font-weight: bold;
}
input, button {
  padding: 5px;
}
div {
  margin-top: 10px;
  color: green;
}
import { Component } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { PMSService } from '../../services/PMSService';
import { PMSDto } from '../../models/PMS.dto';

@Component({
  selector: 'app-pms-crear',
  templateUrl: './pms-crear.component.html',
  styleUrls: ['./pms-crear.component.scss']
})
export class PmsCrearComponent {
  pmsForm: FormGroup;
  mensaje: string = '';

  constructor(private fb: FormBuilder, private pmsService: PMSService) {
    this.pmsForm = this.fb.group({
      pesoMilSemillas: [null, Validators.required],
      humedadPorcentual: [null, Validators.required],
      fechaMedicion: [null, Validators.required],
      metodo: ['', Validators.required],
      observaciones: [''],
      activo: [true],
      repetido: [false],
      reciboId: [null, Validators.required]
    });
  }

  crearPMS() {
    if (this.pmsForm.valid) {
      const pms: PMSDto = this.pmsForm.value;
      this.pmsService.crear(pms).subscribe({
        next: (msg) => this.mensaje = 'PMS creado correctamente',
        error: () => this.mensaje = 'Error al crear PMS'
      });
    }
  }
}

