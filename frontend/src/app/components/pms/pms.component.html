<div class="container">
  <!-- Botón de navegación hacia atrás -->
  <button class="back-button" (click)="onCancel()">
    <i class="pi pi-arrow-left"></i>
  </button>
  
  <p-card class="card">
    <ng-template pTemplate="header">
      <h2 class="title">{{ isEditing ? 'Editar PMS' : 'Crear PMS' }}</h2>
    </ng-template>

    <form (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <!-- Campos de texto -->
        <div class="form-field">
          <label for="pesoMilSemillas">Peso Mil Semillas</label>
          <input id="pesoMilSemillas" type="number" [(ngModel)]="pesoMilSemillas" name="pesoMilSemillas" pInputText />
        </div>

        <div class="form-field">
          <label for="humedadPorcentual">% Humedad</label>
          <input id="humedadPorcentual" type="number" [(ngModel)]="humedadPorcentual" name="humedadPorcentual" pInputText />
        </div>

        <div class="form-field">
          <label for="fechaMedicion">Fecha Medicion</label>
          <input id="fechaMedicion" type="date" [(ngModel)]="fechaMedicion" name="fechaMedicion" pInputText />
        </div>

        <div class="form-field">
          <label for="ficha">Metodo</label>
          <select id="metodos" [(ngModel)]="selectedMetodo" name="metodo">
            <option value="" >Seleccionar Método</option>
            <option *ngFor="let m of metodos" [value]="m.id">{{ m.label }}</option>
          </select>
        </div>   

        <div class="form-field">
          <label for="observaciones">Observaciones</label>
          <textarea
            id="observaciones"
            rows="3"
            [(ngModel)]="observaciones"
            name="observaciones"
            pInputText
          ></textarea>
        </div>

        <!-- Checkbox Repetido - solo visible al editar -->
        <div class="form-field" *ngIf="isEditing">
          <label>
            <input 
              type="checkbox" 
              [(ngModel)]="repetido" 
              name="repetido"
            />
            <span>Repetir</span>
          </label>
        </div>

      </div>

      <div class="submit-btn">
        <button
          pButton
          type="submit"
          [label]="isEditing ? 'Actualizar PMS' : 'Crear PMS'"
          class="p-button-success"
        ></button>
        <button
          pButton
          type="button"
          label="Cancelar"
          class="p-button-secondary"
          (click)="onCancel()"
        ></button>
      </div>
    </form>
  </p-card>
</div>
